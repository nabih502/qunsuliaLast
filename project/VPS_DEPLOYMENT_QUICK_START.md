# ğŸš€ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ù‚Ù„ Ø§Ù„Ø³Ø±ÙŠØ¹ Ø¥Ù„Ù‰ VPS

## ğŸ“‘ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù‡Ø°Ø§ Ø¯Ù„ÙŠÙ„ Ù…Ø¨Ø³Ø· Ù„Ù†Ù‚Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ù† Supabase Ø¥Ù„Ù‰ VPS Ø®Ø§Øµ.

---

## ğŸ“‚ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ù‡Ù…Ø©

```
project/
â”œâ”€â”€ COMPLETE_VPS_DEPLOYMENT_GUIDE.md  â† Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„Ù…ÙØµÙ„
â”œâ”€â”€ DEPLOYMENT_CHECKLIST.md          â† Checklist Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©
â”œâ”€â”€ VPS_DEPLOYMENT_QUICK_START.md    â† Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù (Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø³Ø±ÙŠØ¹Ø©)
â””â”€â”€ scripts/
    â”œâ”€â”€ export-from-supabase.sh      â† ØªØµØ¯ÙŠØ± Ù…Ù† Supabase
    â”œâ”€â”€ setup-vps.sh                 â† Ø¥Ø¹Ø¯Ø§Ø¯ VPS Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
    â”œâ”€â”€ import-to-vps.sh             â† Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    â”œâ”€â”€ setup-backend-env.sh         â† Ø¥Ù†Ø´Ø§Ø¡ .env Ù„Ù„Ù€ Backend
    â””â”€â”€ setup-nginx-config.sh        â† Ø¥Ø¹Ø¯Ø§Ø¯ Nginx
```

---

## âš¡ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©

### 1ï¸âƒ£ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Supabase
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd scripts/
chmod +x export-from-supabase.sh
./export-from-supabase.sh

# Ø³ÙŠØ³Ø£Ù„Ùƒ Ø¹Ù†:
# - Supabase Host
# - Database Name
# - Username & Password

# Ø³ÙŠÙ†Ø´Ø¦: supabase_backup_YYYYMMDD.sql
```

### 2ï¸âƒ£ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ VPS

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ø§ØªØµÙ„ Ø¨Ù€ VPS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ssh root@YOUR_VPS_IP
```

### 3ï¸âƒ£ Ø¥Ø¹Ø¯Ø§Ø¯ VPS

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ø¹Ù„Ù‰ VPS: Ù†Ù‚Ù„ Ø³ÙƒØ±ÙŠØ¨Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ:
scp scripts/setup-vps.sh root@YOUR_VPS_IP:/root/

# Ø¹Ù„Ù‰ VPS:
chmod +x setup-vps.sh
sudo ./setup-vps.sh

# âœ… Ù‡Ø°Ø§ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª Ø³ÙŠØ¹Ù…Ù„ ÙƒÙ„ Ø´ÙŠØ¡:
# - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…
# - ØªØ«Ø¨ÙŠØª PostgreSQL
# - ØªØ«Ø¨ÙŠØª Node.js & PM2
# - ØªØ«Ø¨ÙŠØª Nginx
# - Ø¥Ø¹Ø¯Ø§Ø¯ Firewall
# - Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª
```

### 4ï¸âƒ£ Ù†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# 1. Ù†Ù‚Ù„ Backup
scp supabase_backup_YYYYMMDD.sql root@YOUR_VPS_IP:/home/consulate/

# 2. Ø¶ØºØ· ÙˆÙ†Ù‚Ù„ Backend
zip -r backend.zip backend/
scp backend.zip root@YOUR_VPS_IP:/home/consulate/

# 3. Build ÙˆÙ†Ù‚Ù„ Frontend
npm run build
zip -r dist.zip dist/
scp dist.zip root@YOUR_VPS_IP:/home/consulate/
```

### 5ï¸âƒ£ Ø¹Ù„Ù‰ VPS: ÙÙƒ Ø§Ù„Ø¶ØºØ· ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ÙÙƒ Ø¶ØºØ· Backend
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd /home/consulate
unzip backend.zip
cd backend
npm install

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ÙÙƒ Ø¶ØºØ· Frontend
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd /home/consulate
unzip dist.zip
sudo cp -r dist/* /var/www/consulate/
sudo chown -R www-data:www-data /var/www/consulate
```

### 6ï¸âƒ£ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ù†Ù‚Ù„ Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ:
scp scripts/import-to-vps.sh root@YOUR_VPS_IP:/home/consulate/
scp scripts/setup-backend-env.sh root@YOUR_VPS_IP:/home/consulate/
scp scripts/setup-nginx-config.sh root@YOUR_VPS_IP:/home/consulate/

# Ø¹Ù„Ù‰ VPS:
cd /home/consulate
chmod +x *.sh

# Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
./import-to-vps.sh
# Ø³ÙŠØ³Ø£Ù„Ùƒ Ø¹Ù† Ù…Ù„Ù Backup
```

### 7ï¸âƒ£ Ø¥Ø¹Ø¯Ø§Ø¯ Backend

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ø¥Ù†Ø´Ø§Ø¡ .env
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
./setup-backend-env.sh
# Ø³ÙŠØ³Ø£Ù„Ùƒ Ø¹Ù† Domain/IP

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ØªØ´ØºÙŠÙ„ Backend
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd /home/consulate/backend
pm2 start src/server.js --name consulate-api
pm2 save
pm2 startup
# Ù†ÙØ° Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ø°ÙŠ ÙŠØ¸Ù‡Ø±

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ø§Ø®ØªØ¨Ø§Ø± Backend
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
curl http://localhost:3000/health
# ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ±Ø¬Ø¹: {"status":"ok"}
```

### 8ï¸âƒ£ Ø¥Ø¹Ø¯Ø§Ø¯ Nginx

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ØªØ´ØºÙŠÙ„ Ø³ÙƒØ±ÙŠØ¨Øª Nginx
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sudo ./setup-nginx-config.sh
# Ø§Ø®ØªØ±: Domain Ø£Ùˆ IP
# Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
```

### 9ï¸âƒ£ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
http://YOUR_VPS_IP
# Ø£Ùˆ
https://yourdomain.com

# âœ… ØªØ­Ù‚Ù‚ Ù…Ù†:
# - Ø§Ù„ØµÙØ­Ø© ØªÙØªØ­
# - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙŠØ¹Ù…Ù„
# - Ø§Ù„Ø®Ø¯Ù…Ø§Øª ØªØ¸Ù‡Ø±
# - Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙŠØ¹Ù…Ù„
```

### ğŸ”Ÿ SSL (Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ù†Ø¯Ùƒ Domain)

```bash
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ØªØ«Ø¨ÙŠØª SSL Ù…Ø¬Ø§Ù†ÙŠ Ù…Ù† Let's Encrypt
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
sudo apt install certbot python3-certbot-nginx -y
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com
# Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª
```

---

## ğŸ¯ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ù‡Ù…Ø©

### Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª

```bash
# Backend
pm2 status
pm2 logs consulate-api
pm2 restart consulate-api

# Nginx
sudo systemctl status nginx
sudo systemctl restart nginx
sudo tail -f /var/log/nginx/consulate_error.log

# PostgreSQL
sudo systemctl status postgresql
psql -U consulate_user -d consulate_db -h localhost

# Firewall
sudo ufw status
```

### Backup ÙŠØ¯ÙˆÙŠ

```bash
# Database Backup
pg_dump -U consulate_user -d consulate_db -h localhost -F c -f backup_$(date +%Y%m%d).dump

# Uploads Backup
tar -czf uploads_$(date +%Y%m%d).tar.gz /home/consulate/backend/uploads/
```

---

## âš ï¸ Ù…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø©

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Backend Ù„Ø§ ÙŠØ¹Ù…Ù„

```bash
# Ø§Ù„Ø­Ù„:
pm2 logs consulate-api
# Ø§Ù‚Ø±Ø£ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙˆØµØ­Ø­Ù‡Ø§
pm2 restart consulate-api
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Nginx 502 Bad Gateway

```bash
# Ø§Ù„Ø­Ù„:
pm2 status  # ØªØ£ÙƒØ¯ Ø£Ù† Backend ÙŠØ¹Ù…Ù„
sudo systemctl restart nginx
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Database Connection Failed

```bash
# Ø§Ù„Ø­Ù„:
# ØªØ­Ù‚Ù‚ Ù…Ù† .env ÙÙŠ Backend
cat /home/consulate/backend/.env
# ØªØ­Ù‚Ù‚ Ù…Ù† PostgreSQL
sudo systemctl status postgresql
```

---

## ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

### VPS Requirements

```yaml
Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰:
  CPU: 2 Cores
  RAM: 4 GB
  Storage: 50 GB SSD
  OS: Ubuntu 22.04 LTS

Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡:
  CPU: 4 Cores
  RAM: 8 GB
  Storage: 100 GB SSD
  OS: Ubuntu 22.04 LTS
```

### Ports

```yaml
Ù…ÙØªÙˆØ­Ø©:
  - 22 (SSH) - Ù…Ù† IP Ù…Ø­Ø¯Ø¯ ÙÙ‚Ø·
  - 80 (HTTP)
  - 443 (HTTPS)

Ù…Ø­Ø¸ÙˆØ±Ø©:
  - 5432 (PostgreSQL)
  - 3000 (Backend API)
```

---

## ğŸ“š Ù„Ù„Ù…Ø²ÙŠØ¯

- **Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„:** `COMPLETE_VPS_DEPLOYMENT_GUIDE.md`
- **Checklist:** `DEPLOYMENT_CHECKLIST.md`
- **Ubuntu & Firewall:** `UBUNTU_FIREWALL_COMPLETE_GUIDE.md`

---

## âœ… Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

Ø¨Ø¹Ø¯ Ø¥ÙƒÙ…Ø§Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ§ØªØŒ Ø³ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ:

âœ… VPS Ø¬Ø§Ù‡Ø² Ø¨Ù€ Ubuntu 22.04 LTS
âœ… PostgreSQL 15 ÙŠØ¹Ù…Ù„
âœ… Backend API ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ PM2
âœ… Frontend deployed Ø¹Ù„Ù‰ Nginx
âœ… Firewall configured
âœ… SSL/HTTPS (Ø¥Ù† ÙˆØ¬Ø¯ Domain)
âœ… Backup automated

**Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬! ğŸš€**

---

## ğŸ’¡ Ù†ØµØ§Ø¦Ø­

1. **Ø§Ø­ØªÙØ¸ Ø¨Ù€ Backups Ù…Ù†ØªØ¸Ù…Ø©** (ÙŠÙˆÙ…ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)
2. **Ø±Ø§Ù‚Ø¨ Logs Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±** (PM2, Nginx, PostgreSQL)
3. **Ø­Ø¯Ù‘Ø« Ø§Ù„Ù†Ø¸Ø§Ù… Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹**: `sudo apt update && sudo apt upgrade -y`
4. **ØºÙŠÙ‘Ø± Passwords Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ**
5. **Ù‚ÙŠÙ‘Ø¯ SSH Ù„Ù€ IP Ù…Ø­Ø¯Ø¯**: `sudo ufw allow from YOUR_IP to any port 22`

---

**Ø¨Ø§Ù„ØªÙˆÙÙŠÙ‚! ğŸ‰**
