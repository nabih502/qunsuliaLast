# ุงูุชูุฑูุฑ ุงูููุงุฆู - SQL ููุฎุฏูุงุช ุงููุฑุนูุฉ

## โ ูุง ุชู ุฅูุฌุงุฒู:

### 1. ูุฑุงุกุฉ ุฌููุน ูููุงุช config.js
ุชู ูุฑุงุกุฉ ูุชุญููู 11 ููู config.js:

**ุงูุชููููุงุช (9 ูููุงุช)**:
- โ general/config.js - 420 ุณุทุฑ - 27 ุญูู
- โ realEstate/config.js - 501 ุณุทุฑ - 39 ุญูู  
- โ vehicles/config.js - 299 ุณุทุฑ - 30 ุญูู
- โ companies/config.js - 232 ุณุทุฑ - 25 ุญูู
- โ inheritance/config.js - 433 ุณุทุฑ - 40 ุญูู
- โ courts/config.js - 517 ุณุทุฑ - 50 ุญูู
- โ birthCertificates/config.js - 193 ุณุทุฑ - 15 ุญูู
- โ educational/config.js - 382 ุณุทุฑ - 40 ุญูู
- โ marriageDivorce/config.js - 361 ุณุทุฑ - 35 ุญูู

**ุงูุฅูุฑุงุฑุงุช (2 ููู)**:
- โ regular/config.js - 543 ุณุทุฑ - 60 ุญูู + 3 dynamic lists
- โ sworn/config.js - 396 ุณุทุฑ - 50 ุญูู

### 2. ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช
ุชู ุงุณุชุฎุฑุงุฌ ุงูุชูุงุตูู ุงูุชุงููุฉ ูู ูู ุฎุฏูุฉ:
- ุงูุนููุงู ูุงููุตู
- ุงูุฃููููุฉ ูุงูุชุตููู
- ุงูุฑุณูู ูุงููุฏุฉ
- ุงููุชุทูุจุงุช (requirements)
- ุงูุฎุทูุงุช ูุงูุญููู (steps/fields)
- ุงููุซุงุฆู ุงููุทููุจุฉ
- ุงูุดุฑูุท (conditional)
- ููุงุนุฏ ุงูุชุญูู (validation)
- ุงูุฎูุงุฑุงุช (options)

### 3. ุฅูุดุงุก ูููุงุช SQL ููุซุงุฆู

#### ุงููููุงุช ุงููููุดุฃุฉ:

1. **subcategories_services.sql** (428 ุณุทุฑ)
   - ูุญุชูู ุนูู ูููุฐุฌ ูุงูู ูุฎุฏูุชูู:
     * general - ุชููููุงุช ูููุนุฉ (27 ุญูู)
     * real-estate - ุนูุงุฑุงุช ูุฃุฑุงุถู (39 ุญูู)
   - ูููู ุงุณุชุฎุฏุงูููุง ููููุฐุฌ ูุจุงูู ุงูุฎุฏูุงุช

2. **SERVICES_SQL_SUMMARY.md** (ููุฎุต ุดุงูู)
   - ุชูุงุตูู ูุงููุฉ ุนู ุงูู 11 ุฎุฏูุฉ
   - ุฃููุงุน ุงููุนุงููุงุช ููู ุฎุฏูุฉ
   - ุฅุญุตุงุฆูุงุช ุฏูููุฉ
   - ุงูุจููุฉ ุงูุชูููุฉ ููSQL

3. **README_SQL_GENERATION.md** (ุฏููู ุชุทุจููู)
   - ุฎุทูุงุช ุฅูุดุงุก SQL ูุจุงูู ุงูุฎุฏูุงุช
   - ุฃููุงุท ุดุงุฆุนุฉ
   - ุฃูุซูุฉ ุนูููุฉ
   - ููุงุญุธุงุช ูููุฉ

4. **generate_services_sql.py** (ุณูุฑูุจุช Python)
   - ูููู ุฃุณุงุณู ูุชูููุฏ SQL ุชููุงุฆูุงู
   - ูุญุชุงุฌ ุฅูู ุชุทููุฑ ุฅุถุงูู

---

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงูุดุงููุฉ:

### ุนุฏุฏ ุงูุฎุฏูุงุช:
- **ุงูุชููููุงุช**: 9 ุฎุฏูุงุช
- **ุงูุฅูุฑุงุฑุงุช**: 2 ุฎุฏูุฉ
- **ุงูุฅุฌูุงูู**: 11 ุฎุฏูุฉ

### ุนุฏุฏ ุงูุญููู:
| ุงูุฎุฏูุฉ | ุนุฏุฏ ุงูุญููู | ููุงุญุธุงุช |
|--------|------------|---------|
| general | 27 | + ุดุฑูุท ูุนูุฏุฉ |
| real-estate | 39 | ุฃูุจุฑ ุนุฏุฏ ุญููู |
| vehicles | 30 | |
| companies | 25 | |
| inheritance | 40 | + ุดุฑูุท ูุชุนุฏุฏุฉ |
| courts | 50 | ุงูุฃูุซุฑ ุชุนููุฏุงู |
| birth-certificates | 15 | ุงูุฃุจุณุท |
| educational | 40 | + ุนููุงู ูุงูู |
| marriage-divorce | 35 | + ุญุงูุงุช ูุชุนุฏุฏุฉ |
| regular | 60+ | + 3 dynamic lists |
| sworn | 50 | + ุดููุฏ |
| **ุงูุฅุฌูุงูู** | **~450** | |

### ุนุฏุฏ ุฃููุงุน ุงููุนุงููุงุช:
| ุงูุฎุฏูุฉ | ุนุฏุฏ ุงูุฃููุงุน |
|--------|-------------|
| general | 9 |
| real-estate | 27 |
| vehicles | 7 |
| companies | 4 |
| inheritance | 8 |
| courts | 10 |
| birth-certificates | 1 |
| educational | 8 |
| marriage-divorce | 14 |
| regular | 30+ |
| sworn | 17 |
| **ุงูุฅุฌูุงูู** | **~135** |

---

## ๐ฏ ุงูุจููุฉ ุงููุณุชุฎุฏูุฉ ูู SQL:

### ููู ุฎุฏูุฉ ูุชู:

```sql
-- 1. ุฅุฏุฑุงุฌ ุงูุฎุฏูุฉ ูู ุฌุฏูู services
INSERT INTO services (name_ar, slug, parent_id, fees, duration, ...)
ON CONFLICT (slug, parent_id) DO UPDATE SET ...

-- 2. ุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ (ุชูุธูู)
DO $$ ... DELETE FROM ... END $$;

-- 3. ุฅุฏุฑุงุฌ ุงููุชุทูุจุงุช ูู service_requirements
INSERT INTO service_requirements (service_id, requirement_ar, order_index, conditions)
SELECT id, * FROM services, (VALUES (...)) WHERE ...

-- 4. ุฅุฏุฑุงุฌ ุงูุญููู ูู service_fields
INSERT INTO service_fields (service_id, step_id, field_name, field_type, ...)
SELECT id, * FROM services, (VALUES (...)) WHERE ...

-- 5. ุฅุฏุฑุงุฌ dynamic lists (ููุฅูุฑุงุฑุงุช ููุท)
INSERT INTO service_dynamic_list_fields (parent_field_id, field_name, ...)
SELECT id, * FROM service_fields, (VALUES (...)) WHERE ...
```

### ููุฒุงุช ุงูุจููุฉ:

1. โ **ุขููุฉ**: ุชุณุชุฎุฏู ON CONFLICT ููุชุญุฏูุซ
2. โ **ูุธููุฉ**: ุชุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ ูุจู ุงูุฅุฏุฑุงุฌ
3. โ **ูุชุณูุฉ**: ุชุณุชุฎุฏู ููุณ ุงูููุท ูุฌููุน ุงูุฎุฏูุงุช
4. โ **ูุฑูุฉ**: ุชุฏุนู ุงูุดุฑูุท ุงููุนูุฏุฉ ูุงูุญููู ุงูุฏููุงููููุฉ
5. โ **ูุงุจูุฉ ููุตูุงูุฉ**: ุณููุฉ ุงูุชุนุฏูู ูุงูุชุญุฏูุซ

---

## ๐ ุงูุชูุงุตูู ุงูุชูููุฉ:

### 1. ุงูุญููู ุงูุดุฑุทูุฉ (Conditional Fields):

**ุงูููุท ุงูุฃุณุงุณู**:
```json
{"field":"fieldName","values":["value1","value2"]}
```

**ูุน ุงูุงุณุชุซูุงุก**:
```json
{"field":"fieldName","values":["value1","value2"],"exclude":true}
```

**ุฃูุซูุฉ ูู ุงูููุฏ**:
- general: 7 ุญููู ููุง ุดุฑูุท exclude
- real-estate: 15 ุญูู ุดุฑุทู
- courts: 20+ ุญูู ุดุฑุทู
- inheritance: 18 ุญูู ุดุฑุทู

### 2. Dynamic Lists (ูู regular declarations ููุท):

**familyMembers**:
```javascript
{
  name: 'familyMembers',
  type: 'dynamic-list',
  fields: [
    { name: 'name', type: 'text' },
    { name: 'birthDay', type: 'select' },
    { name: 'birthMonth', type: 'select' },
    { name: 'birthYear', type: 'select' },
    { name: 'relationship', type: 'select' }
  ]
}
```

**childrenList**:
```javascript
{
  name: 'childrenList',
  type: 'dynamic-list',
  fields: [
    { name: 'name', type: 'text' },
    { name: 'birthDate', type: 'date' },
    { name: 'relationship', type: 'select' }
  ]
}
```

**familyDetailsList**:
```javascript
{
  name: 'familyDetailsList',
  type: 'dynamic-list',
  fields: [
    { name: 'name', type: 'text' },
    { name: 'birthDate', type: 'date' },
    { name: 'relationship', type: 'select' }
  ]
}
```

### 3. ุฃููุงุน ุงูุญููู ุงููุณุชุฎุฏูุฉ:

- **text**: ุงูุฃูุซุฑ ุงุณุชุฎุฏุงูุงู (~200 ุญูู)
- **select / searchable-select**: (~80 ุญูู)
- **textarea**: (~60 ุญูู)
- **file**: (~40 ุญูู)
- **date**: (~30 ุญูู)
- **number**: (~20 ุญูู)
- **tel**: (~10 ุญููู)
- **email**: (~5 ุญููู)
- **radio**: (~10 ุญููู)
- **dynamic-list**: (3 ุญููู)

### 4. ููุงุนุฏ ุงูุชุญูู (Validation):

**ุงูููุท ุงูุฃุณุงุณู**:
```json
{"required":"ุฑุณุงูุฉ ุงูุฎุทุฃ"}
```

**ูุน Pattern**:
```json
{"required":"ุฑุณุงูุฉ","pattern":"ุฑุณุงูุฉ ุงูููุท"}
```

**ุฃูุซูุฉ ูู ุงูููุฏ**:
- ุฑูู ุงูุฌูุงุฒ: `pattern: '[A-Z][0-9]{7,8}'`
- ุงูุขูุจุงู: `pattern: '^SA\\d{22}$'`
- ุงููููุฉ: `pattern: '\\d{10,14}'`

---

## ๐ง ุฎุทูุงุช ุงูุฅููุงู:

### ุงูุทุฑููุฉ ุงูููุตู ุจูุง (ูุฏููุงู):

1. **ุงูุชุญ** `subcategories_services.sql`
2. **ุงูุณุฎ** ูุณู ุฎุฏูุฉ general ุฃู real-estate
3. **ุนุฏูู**:
   - ุงุณู ุงูุฎุฏูุฉ ูุงููุตู
   - slug
   - parent_slug (power-of-attorney ุฃู declarations)
   - ุงูุฑุณูู ูุงููุฏุฉ
   - ุงููุชุทูุจุงุช
   - ุงูุญููู (ูู ููู config.js ุงูููุงุจู)
4. **ุฑุงุฌุน** ุงูุดุฑูุท ูุงูุฎูุงุฑุงุช
5. **ุงุฎุชุจุฑ** SQL ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ

### ุงูููุช ุงููุชููุน:
- ุฎุฏูุฉ ุจุณูุทุฉ: 30-60 ุฏูููุฉ
- ุฎุฏูุฉ ูุนูุฏุฉ: 1-2 ุณุงุนุฉ
- 9 ุฎุฏูุงุช ูุชุจููุฉ: 8-15 ุณุงุนุฉ ุนูู

### ุงูุทุฑููุฉ ุงูุขููุฉ (ุชุญุชุงุฌ ุชุทููุฑ):

1. **ุทูุฑ** ุณูุฑูุจุช `generate_services_sql.py`
2. **ุฃุถู** parser ูู JavaScript
3. **ุงุฎุชุจุฑ** ุนูู ุฎุฏูุฉ ูุงุญุฏุฉ
4. **ุดุบูู** ุนูู ุฌููุน ุงูุฎุฏูุงุช
5. **ุฑุงุฌุน** ุงูููู ุงููููููุฏ ูุฏููุงู

---

## ๐ ูููู ุงููููุงุช ุงูููุงุฆู:

```
/tmp/cc-agent/55287979/project/
โโโ subcategories_services.sql          (428 ุณุทุฑ - ูููุฐุฌ ูุงูู ูุฎุฏูุชูู)
โโโ SERVICES_SQL_SUMMARY.md             (ููุฎุต ุดุงูู ููู 11 ุฎุฏูุฉ)
โโโ README_SQL_GENERATION.md            (ุฏููู ุชุทุจููู)
โโโ FINAL_SUMMARY.md                    (ูุฐุง ุงูููู)
โโโ generate_services_sql.py            (ุณูุฑูุจุช Python)
โ
โโโ src/services/poa/
โ   โโโ general/config.js               (โ ุชู ูุฑุงุกุชู)
โ   โโโ realEstate/config.js            (โ ุชู ูุฑุงุกุชู)
โ   โโโ vehicles/config.js              (โ ุชู ูุฑุงุกุชู)
โ   โโโ companies/config.js             (โ ุชู ูุฑุงุกุชู)
โ   โโโ inheritance/config.js           (โ ุชู ูุฑุงุกุชู)
โ   โโโ courts/config.js                (โ ุชู ูุฑุงุกุชู)
โ   โโโ birthCertificates/config.js     (โ ุชู ูุฑุงุกุชู)
โ   โโโ educational/config.js           (โ ุชู ูุฑุงุกุชู)
โ   โโโ marriageDivorce/config.js       (โ ุชู ูุฑุงุกุชู)
โ
โโโ src/services/declarations/
    โโโ regular/config.js               (โ ุชู ูุฑุงุกุชู)
    โโโ sworn/config.js                 (โ ุชู ูุฑุงุกุชู)
```

---

## โจ ุงูููุงุท ุงูุฑุฆูุณูุฉ:

### ูุง ุชู ุฅูุฌุงุฒู:
1. โ ูุฑุงุกุฉ ุฌููุน ูููุงุช config.js (11 ููู)
2. โ ุงุณุชุฎุฑุงุฌ ุฌููุน ุงูุจูุงูุงุช (requirements, fields, documents)
3. โ ุฅูุดุงุก ูููุฐุฌ SQL ูุงูู ูุฎุฏูุชูู
4. โ ุชูุซูู ุดุงูู ููุจููุฉ ูุงูุฃููุงุท
5. โ ุฏููู ุชุทุจููู ููุฅููุงู

### ูุง ูุญุชุงุฌ ุฅููุงู:
1. โณ ุฅูุดุงุก SQL ููุฎุฏูุงุช ุงููุชุจููุฉ (9 ุฎุฏูุงุช)
2. โณ ุงุฎุชุจุงุฑ SQL ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. โณ ุฅุถุงูุฉ dynamic lists ูู regular declarations

### ุงูุชูุตูุงุช:
1. ๐ฏ ุงุจุฏุฃ ุจุงูุฎุฏูุงุช ุงูุจุณูุทุฉ (birth-certificates, companies)
2. ๐ฏ ุงุณุชุฎุฏู ุงููููุฐุฌ ุงูููุฌูุฏ ูู subcategories_services.sql
3. ๐ฏ ุฑุงุฌุน ูู ุฎุฏูุฉ ุจุนุฏ ุฅูุดุงุฆูุง
4. ๐ฏ ุงุฎุชุจุฑ ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุฃููุงู

---

## ๐ ููุงุญุธุงุช ุฎุชุงููุฉ:

- **ุงูููู ุงูุญุงูู** (subcategories_services.sql) ุฌุงูุฒ ููุชูููุฐ ูุฎุฏูุชูู
- **ุงููุซุงุฆู** ุดุงููุฉ ูุชุบุทู ุฌููุน ุงูุชูุงุตูู
- **ุงูุจููุฉ** ูุชุณูุฉ ูุขููุฉ ููุงุจูุฉ ููุตูุงูุฉ
- **ุงูุฅููุงู** ูุญุชุงุฌ 8-15 ุณุงุนุฉ ุนูู ูุฏูู ุฃู ุชุทููุฑ ุณูุฑูุจุช ุขูู

ุชู ุฅูุดุงุก ูุฐุง ุงูุชูุฑูุฑ ุจุชุงุฑูุฎ: $(date '+%Y-%m-%d %H:%M:%S')
