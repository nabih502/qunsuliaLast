# ๐ ุฏููู Ports ู SSH ููู VPS

## โ๏ธ ูุนูููุงุช ูููุฉ ููุนููู

---

## 1๏ธโฃ ุงูู Ports ุงููุทููุจุฉ (ูุฌุจ ูุชุญูุง)

### ๐ Ports ูููุณุชุฎุฏููู (Public - ูุฌุจ ูุชุญูุง ููุฅูุชุฑูุช)

```yaml
Port 80 (HTTP):
  ุงูุงุณุชุฎุฏุงู: ุงููููุน - ุฅุนุงุฏุฉ ุชูุฌูู ุชููุงุฆู ุฅูู HTTPS
  ุงูุจุฑูุชูููู: TCP
  ูุทููุจ: โ ูุนู
  ุงููุตูู: 0.0.0.0/0 (ุงููู)

Port 443 (HTTPS):
  ุงูุงุณุชุฎุฏุงู: ุงููููุน ุงูุฑุฆูุณู (Frontend + Backend)
  ุงูุจุฑูุชูููู: TCP
  ูุทููุจ: โ ูุนู (ุงูุฃูู)
  ุงููุตูู: 0.0.0.0/0 (ุงููู)
  ุงูููุงุญุธุงุช: ูุญุชุงุฌ SSL Certificate

Port 22 (SSH):
  ุงูุงุณุชุฎุฏุงู: ุฅุฏุงุฑุฉ ุงูุณูุฑูุฑ ุนู ุจูุนุฏ
  ุงูุจุฑูุชูููู: TCP
  ูุทููุจ: โ ูุนู
  ุงููุตูู: โ๏ธ IPs ูุญุฏุฏุฉ ููุท (ูุง ุชูุชุญู ูููู!)
  ุงูููุงุญุธุงุช: ุงูุธุฑ ูุณู ุงูุฃูุงู ุฃุฏูุงู
```

### ๐ Ports ุงูุฏุงุฎููุฉ (Internal - ูุง ุชูุชุญูุง ููุฅูุชุฑูุช)

```yaml
Port 5432 (PostgreSQL):
  ุงูุงุณุชุฎุฏุงู: ูุงุนุฏุฉ ุงูุจูุงูุงุช
  ุงูุจุฑูุชูููู: TCP
  ุงููุตูู: localhost ููุท (127.0.0.1)
  ุงูููุงุญุธุงุช: โ๏ธ ูุง ุชูุชุญู ููุฅูุชุฑูุช ุฃุจุฏุงู!

Port 3000 (Backend API):
  ุงูุงุณุชุฎุฏุงู: Backend Express API
  ุงูุจุฑูุชูููู: TCP
  ุงููุตูู: localhost ุฃู ุนุจุฑ Reverse Proxy
  ุงูููุงุญุธุงุช: ูุชู ุงููุตูู ุฅููู ุนุจุฑ Nginx/Port 443

Port 6379 (Redis) - ุงุฎุชูุงุฑู:
  ุงูุงุณุชุฎุฏุงู: Cache/Sessions
  ุงูุจุฑูุชูููู: TCP
  ุงููุตูู: localhost ููุท
  ุงูููุงุญุธุงุช: ุฅุฐุง ุชู ุงุณุชุฎุฏุงูู
```

---

## 2๏ธโฃ ููุฎุต ุงูู Ports (ููุนููู)

### โ Ports ูุฌุจ ูุชุญูุง ููุฅูุชุฑูุช:
```
Port 80   (HTTP)   โ ูููููุน (redirect to HTTPS)
Port 443  (HTTPS)  โ ูููููุน ุงูุฑุฆูุณู โญ ุงูุฃูู
Port 22   (SSH)    โ ููุฅุฏุงุฑุฉ โ๏ธ ูู IPs ูุญุฏุฏุฉ ููุท
```

### โ Ports ูุง ุชูุชุญูุง ููุฅูุชุฑูุช ุฃุจุฏุงู:
```
Port 5432  (PostgreSQL)    โ ุฏุงุฎูู ููุท
Port 3000  (Backend API)   โ ุฏุงุฎูู (ุนุจุฑ Nginx)
Port 6379  (Redis)         โ ุฏุงุฎูู ููุท
```

---

## 3๏ธโฃ SSH - ุงูุฃูุงู ูุงููุฏุฉ

### ๐ ูู ูุญุชุงุฌ SSHุ
โ **ูุนูุ ูุญุชุงุฌ SSH**

### โฐ ูู ูู ุงูููุช ูุฌุจ ุฃู ูููู ููุชูุญุงูุ
โ **ุฏุงุฆูุงู ููุชูุญ** - ููู ุจุดุฑูุท ุฃูุงู ุตุงุฑูุฉ!

### โ๏ธ ุดุฑูุท ุงูุฃูุงู ูู SSH:

#### 1. ุชุบููุฑ Port ุงูุงูุชุฑุงุถู (ุงุฎุชูุงุฑู ููู ูุณุชุญุณู)
```bash
# ุจุฏูุงู ูู Port 22ุ ุงุณุชุฎุฏู port ูุฎุตุต ูุซู:
Port 2222
Port 2200
Port 8022
```

#### 2. ุงูุณูุงุญ ุจู IPs ูุญุฏุฏุฉ ููุท
```bash
# ูุซุงู: ุงูุณูุงุญ ููุท ูู IP ููุชุจ ุงูุดุฑูุฉ
AllowUsers admin@123.45.67.89

# ุฃู ุจุงุณุชุฎุฏุงู Firewall (UFW):
sudo ufw allow from 123.45.67.89 to any port 22
```

#### 3. ุชุนุทูู Root Login
```bash
PermitRootLogin no
```

#### 4. ุงุณุชุฎุฏุงู SSH Keys (ูุง Passwords)
```bash
PasswordAuthentication no
PubkeyAuthentication yes
```

#### 5. Fail2Ban (ุญูุงูุฉ ูู Brute Force)
```bash
sudo apt install fail2ban
sudo systemctl enable fail2ban
```

### ๐ ุฅุนุฏุงุฏุงุช SSH ุงูููุตู ุจูุง

```bash
# /etc/ssh/sshd_config

Port 22                          # ุฃู port ูุฎุตุต
PermitRootLogin no              # โ๏ธ ููู ุฌุฏุงู
PasswordAuthentication no       # โ๏ธ ุงุณุชุฎุฏู SSH Keys ููุท
PubkeyAuthentication yes
X11Forwarding no
MaxAuthTries 3
ClientAliveInterval 300
ClientAliveCountMax 2
AllowUsers admin                # ุงููุณุชุฎุฏููู ุงููุณููุญูู ููุท
```

---

## 4๏ธโฃ Firewall Configuration

### ุจุงุณุชุฎุฏุงู UFW (Ubuntu):

```bash
# ุชูุนูู Firewall
sudo ufw enable

# ุงูุณูุงุญ ุจู SSH (ูู IP ูุญุฏุฏ)
sudo ufw allow from YOUR_OFFICE_IP to any port 22

# ุงูุณูุงุญ ุจู HTTP
sudo ufw allow 80/tcp

# ุงูุณูุงุญ ุจู HTTPS
sudo ufw allow 443/tcp

# ุงูุชุญูู
sudo ufw status verbose
```

### ุจุงุณุชุฎุฏุงู firewalld (CentOS/RHEL):

```bash
# ุชูุนูู Firewall
sudo systemctl enable firewalld
sudo systemctl start firewalld

# ุงูุณูุงุญ ุจุงูู ports
sudo firewall-cmd --permanent --add-port=80/tcp
sudo firewall-cmd --permanent --add-port=443/tcp
sudo firewall-cmd --permanent --add-port=22/tcp

# ุชุทุจูู ุงูุชุบููุฑุงุช
sudo firewall-cmd --reload

# ุงูุชุญูู
sudo firewall-cmd --list-all
```

---

## 5๏ธโฃ ุงูุจููุฉ ุงููุนูุงุฑูุฉ ุนูู VPS

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           ุงูุฅูุชุฑูุช (Internet)               โ
โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                  โ
    โโโโโโโโโโโโโโโผโโโโโโโโโโโโโโ
    โ             โผ             โ
Port 443      Port 80       Port 22
 (HTTPS)       (HTTP)        (SSH)
    โ             โ             โ
    โ             โ             โ
    โผ             โผ             โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              VPS Server                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โ         Nginx (Reverse Proxy)       โ  โ
โ  โ  - SSL Termination                  โ  โ
โ  โ  - Load Balancing                   โ  โ
โ  โโโโโโฌโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ  โ
โ       โ                  โ                 โ
โ       โผ                  โผ                 โ
โ  โโโโโโโโโโโ      โโโโโโโโโโโโโโโโ        โ
โ  โFrontend โ      โBackend API   โ        โ
โ  โ(React)  โ      โ(Express)     โ        โ
โ  โPort 5173โ      โPort 3000     โ        โ
โ  โโโโโโโโโโโ      โโโโโโโโฌโโโโโโโโ        โ
โ                           โ                โ
โ                           โผ                โ
โ                    โโโโโโโโโโโโโโโ         โ
โ                    โPostgreSQL   โ         โ
โ                    โPort 5432    โ         โ
โ                    โโโโโโโโโโโโโโโ         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 6๏ธโฃ SSL Certificate (HTTPS)

### ุงุณุชุฎุฏุงู Let's Encrypt (ูุฌุงูู):

```bash
# ุชุซุจูุช Certbot
sudo apt install certbot python3-certbot-nginx

# ุงูุญุตูู ุนูู Certificate
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com

# ุชุฌุฏูุฏ ุชููุงุฆู
sudo certbot renew --dry-run
```

---

## 7๏ธโฃ ูุชุทูุจุงุช VPS (Minimum)

```yaml
Operating System: Ubuntu 22.04 LTS ุฃู CentOS 8
CPU: 2 vCPU (minimum) - 4 vCPU (recommended)
RAM: 4 GB (minimum) - 8 GB (recommended)
Storage: 40 GB SSD (minimum) - 100 GB (recommended)
Bandwidth: Unlimited ุฃู 2TB+
```

---

## 8๏ธโฃ ุฃุฏูุงุช ุงููุฑุงูุจุฉ (Monitoring)

### ุฅุถุงูุฉ Monitoring ูู SSH:
```bash
# Log SSH Attempts
sudo tail -f /var/log/auth.log

# Failed SSH Attempts
sudo grep "Failed password" /var/log/auth.log

# Successful SSH Logins
sudo grep "Accepted" /var/log/auth.log
```

---

## 9๏ธโฃ Backup Plan

### ุฃููุงุน Backup:

```yaml
Database Backup:
  ุงูุชุฑุฏุฏ: ูููู
  ุงูุฃุฏุงุฉ: pg_dump
  ุงูููุงู: ุฎุงุฑุฌ ุงูุณูุฑูุฑ (S3, Google Cloud, etc)

Files Backup:
  ุงูุชุฑุฏุฏ: ุฃุณุจูุนู
  ุงูุฃุฏุงุฉ: rsync, tar
  ุงูููุงู: ุฎุงุฑุฌ ุงูุณูุฑูุฑ

Full Server Snapshot:
  ุงูุชุฑุฏุฏ: ุดูุฑู
  ุงูุฃุฏุงุฉ: VPS Provider Snapshots
```

---

## ๐ Checklist ููุนููู

### ูุจู ุชุดุบูู ุงูุณูุฑูุฑ:

- [ ] ุญุฌุฒ VPS ุจุงูููุงุตูุงุช ุงููุทููุจุฉ
- [ ] ุญุฌุฒ Domain Name
- [ ] ุฅุนุฏุงุฏ DNS (A Records)
- [ ] ุฅุนุฏุงุฏ Firewall (ูุชุญ Ports 80, 443, 22 ููุท)
- [ ] ุชุบููุฑ Port SSH ุฃู ุชูููุฏ IPs
- [ ] ุชุซุจูุช SSL Certificate
- [ ] ุชูุนูู Fail2Ban
- [ ] ุฅุนุฏุงุฏ Backup System
- [ ] ุฅุนุฏุงุฏ Monitoring
- [ ] ุงุฎุชุจุงุฑ ุงููุตูู

---

## ๐ ููุฎุต ููุนููู (ุจุณูุท)

### ุงูุณุคุงู 1: ุฃู Ports ูุญุชุงุฌุ

**ููุฅูุชุฑูุช (ูุฌุจ ูุชุญูุง):**
- โ **Port 443** (HTTPS) - ุงููููุน ุงูุฑุฆูุณู
- โ **Port 80** (HTTP) - ุฅุนุงุฏุฉ ุชูุฌูู ุฅูู HTTPS
- โ **Port 22** (SSH) - ููุฅุฏุงุฑุฉ (ูู IPs ูุญุฏุฏุฉ ููุท)

**ุฏุงุฎูู (ูุง ุชูุชุญูุง):**
- โ Port 5432 (Database)
- โ Port 3000 (Backend API)

### ุงูุณุคุงู 2: SSH ูู ูู ุงูููุชุ

**โ ุฏุงุฆูุงู ููุชูุญ** - ููู ุจุดุฑูุท ุฃูุงู:
1. ุงูุณูุงุญ ููุท ูู IPs ูุญุฏุฏุฉ
2. ุงุณุชุฎุฏุงู SSH Keys (ูุง Passwords)
3. ุชุนุทูู Root Login
4. ุชูุนูู Fail2Ban

---

## ๐ฏ ุงูุชูุตูุงุช ุงูููุงุฆูุฉ

### ููุฃูุงู:
1. โ ุงุณุชุฎุฏู Firewall
2. โ SSL Certificate (Let's Encrypt)
3. โ ูููุฏ SSH ูู IPs ูุญุฏุฏุฉ
4. โ ูุนูู Fail2Ban
5. โ Backup ูููู
6. โ Monitoring
7. โ ุชุญุฏูุซุงุช ุฃูููุฉ ููุชุธูุฉ

### Ports Summary:
```
ููุชูุญ ููุฅูุชุฑูุช:   80, 443, 22 (ูู IPs ูุญุฏุฏุฉ)
ุฏุงุฎูู ููุท:        5432, 3000, 6379
```

---

**๐ ุงูุฃูุงู ุฃููุงู!**
