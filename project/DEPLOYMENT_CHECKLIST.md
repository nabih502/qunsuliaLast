# โ Checklist ููู ุงููุดุฑูุน ุฅูู VPS

ุงุณุชุฎุฏู ูุฐุง ุงูู Checklist ููุชุฃูุฏ ูู ุฅููุงู ุฌููุน ุงูุฎุทูุงุช ุจูุฌุงุญ.

---

## ๐ ูุจู ุงูุจุฏุก

- [ ] ุญุตูุช ุนูู ูุนูููุงุช VPS:
  - [ ] IP Address: _______________
  - [ ] Username: _______________
  - [ ] Password/SSH Key: _______________
- [ ] ุญุตูุช ุนูู ูุนูููุงุช Supabase:
  - [ ] Project URL: _______________
  - [ ] Anon Key: _______________
  - [ ] Service Role Key: _______________
  - [ ] Database Password: _______________
- [ ] ุงุดุชุฑูุช Domain Name (ุงุฎุชูุงุฑู): _______________

---

## 1๏ธโฃ ุชุญุถูุฑ VPS

- [ ] ุงุชุตูุช ุจู VPS ุนุจุฑ SSH: `ssh root@VPS_IP`
- [ ] ุญุฏุซุช ุงููุธุงู: `sudo apt update && sudo apt upgrade -y`
- [ ] ููุฐุช ุณูุฑูุจุช setup-vps.sh
- [ ] ุชู ุฅูุดุงุก ูุณุชุฎุฏู `consulate`
- [ ] ุชู ุชุซุจูุช ุฌููุน ุงูุฃุฏูุงุช ุงูุฃุณุงุณูุฉ

---

## 2๏ธโฃ PostgreSQL

- [ ] ุชู ุชุซุจูุช PostgreSQL 15
- [ ] ุชู ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช `consulate_db`
- [ ] ุชู ุฅูุดุงุก ุงููุณุชุฎุฏู `consulate_user`
- [ ] ุชู ุชูุนูู UUID ู pgcrypto extensions
- [ ] ุชู ุชุนุฏูู pg_hba.conf (md5 authentication)
- [ ] ุงุฎุชุจุฑุช ุงูุงุชุตุงู ุจู Database

---

## 3๏ธโฃ ุชุตุฏูุฑ ุงูุจูุงูุงุช

- [ ] ููุฐุช ุณูุฑูุจุช export-from-supabase.sh ุนูู ุฌูุงุฒู
- [ ] ุญุตูุช ุนูู ููู backup: `supabase_backup_YYYYMMDD.sql`
- [ ] ุชุญููุช ูู ุญุฌู ุงูููู (ูุง ูููู ูุงุฑุบ)

---

## 4๏ธโฃ ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช

- [ ] ูููุช ููู backup ุฅูู VPS: `scp backup.sql root@VPS_IP:/home/consulate/`
- [ ] ููุฐุช ุณูุฑูุจุช import-to-vps.sh ุนูู VPS
- [ ] ุชู ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ุจูุฌุงุญ
- [ ] ุชุญููุช ูู ุงูุฌุฏุงูู: `\dt` ูู psql
- [ ] ุชุญููุช ูู ุงูุจูุงูุงุช: `SELECT COUNT(*) FROM applications;`

---

## 5๏ธโฃ Backend API

- [ ] ุชู ุชุซุจูุช Node.js 20.x
- [ ] ุชู ุชุซุจูุช PM2
- [ ] ูููุช ูุฌูุฏ backend ุฅูู VPS
- [ ] ูู ุถุบุท backend ูู `/home/consulate/backend/`
- [ ] ููุฐุช: `npm install` ูู ูุฌูุฏ backend
- [ ] ููุฐุช ุณูุฑูุจุช setup-backend-env.sh
- [ ] ุชู ุฅูุดุงุก ููู .env ุตุญูุญ
- [ ] ุชู ุฅูุดุงุก ูุฌูุฏ uploads ูุน ุงูุตูุงุญูุงุช ุงูุตุญูุญุฉ
- [ ] ุดุบูุช Backend: `pm2 start src/server.js --name consulate-api`
- [ ] ููุฐุช: `pm2 save` ู `pm2 startup`
- [ ] ุงุฎุชุจุฑุช Backend: `curl http://localhost:3000/health`

---

## 6๏ธโฃ Frontend

- [ ] ุนุฏูุช .env ุนูู ุฌูุงุฒู ุงููุญูู:
  - [ ] `VITE_API_URL=https://yourdomain.com/api`
- [ ] ููุฐุช: `npm run build` ุนูู ุฌูุงุฒู
- [ ] ุถุบุทุช ูุฌูุฏ dist: `zip -r dist.zip dist/`
- [ ] ูููุช dist.zip ุฅูู VPS: `scp dist.zip root@VPS_IP:/home/consulate/`
- [ ] ูู ุถุบุท dist ุนูู VPS
- [ ] ูุณุฎุช ูุญุชููุงุช dist ุฅูู `/var/www/consulate/`
- [ ] ุชุญููุช ูู ุงูุตูุงุญูุงุช: `chown -R www-data:www-data /var/www/consulate`

---

## 7๏ธโฃ Nginx

- [ ] ุชู ุชุซุจูุช Nginx
- [ ] ููุฐุช ุณูุฑูุจุช setup-nginx-config.sh
- [ ] ุฃุฏุฎูุช Domain ุฃู IP
- [ ] ุชู ุฅูุดุงุก ููู `/etc/nginx/sites-available/consulate`
- [ ] ุชู ุชูุนูู ุงููููุน (symlink ูู sites-enabled)
- [ ] ุญุฐูุช ุงููููุน ุงูุงูุชุฑุงุถู
- [ ] ุงุฎุชุจุฑุช ุงูุฅุนุฏุงุฏุงุช: `sudo nginx -t`
- [ ] ุฃุนุฏุช ุชุดุบูู Nginx: `sudo systemctl restart nginx`

---

## 8๏ธโฃ SSL/HTTPS

### ุฅุฐุง ูุงู ุนูุฏู Domain:
- [ ] ุชู ุชุซุจูุช Certbot: `sudo apt install certbot python3-certbot-nginx -y`
- [ ] ุญุตูุช ุนูู SSL: `sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com`
- [ ] ุงุฎุชุฑุช redirect HTTP to HTTPS
- [ ] ุงุฎุชุจุฑุช ุงูุชุฌุฏูุฏ ุงูุชููุงุฆู: `sudo certbot renew --dry-run`

### ุฅุฐุง ูู ููู ุนูุฏู Domain:
- [ ] ุงููุดุฑูุน ูุนูู ุนูู HTTP ูุคูุชุงู
- [ ] ุชุฎุทุท ูุดุฑุงุก Domain ูุงุญูุงู

---

## 9๏ธโฃ Firewall

- [ ] ุชู ุฅุนุฏุงุฏ UFW
- [ ] Default policies ุตุญูุญุฉ (deny incoming, allow outgoing)
- [ ] ุชู ุงูุณูุงุญ ุจู SSH (ูู IP ูุญุฏุฏ ุฅู ุฃููู)
- [ ] ุชู ุงูุณูุงุญ ุจู HTTP (80)
- [ ] ุชู ุงูุณูุงุญ ุจู HTTPS (443)
- [ ] ุชู ุญุธุฑ PostgreSQL (5432)
- [ ] ุชู ุญุธุฑ Backend API (3000)
- [ ] ุชู ุชูุนูู UFW: `sudo ufw enable`
- [ ] ุชุญููุช ูู ุงูุญุงูุฉ: `sudo ufw status verbose`

---

## ๐ Fail2Ban

- [ ] ุชู ุชุซุจูุช Fail2Ban
- [ ] ุชู ุชูุนูู ูุชุดุบูู Fail2Ban
- [ ] ุชุญููุช ูู ุงูุญุงูุฉ: `sudo systemctl status fail2ban`

---

## 1๏ธโฃ1๏ธโฃ ุงูุงุฎุชุจุงุฑ ุงูุดุงูู

### ูู ุงููุชุตูุญ:

- [ ] ูุชุญุช ุงููููุน: `http://YOUR_VPS_IP` ุฃู `https://yourdomain.com`
- [ ] ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุชุธูุฑ ุจุดูู ุตุญูุญ
- [ ] ุงูุตูุฑ ูุงูู assets ุชุญูู
- [ ] ุณุฌูุช ุฏุฎูู ูู Admin
- [ ] ุงูู Dashboard ููุชุญ
- [ ] ูุงุฆูุฉ ุงูุฎุฏูุงุช ุชุธูุฑ
- [ ] ูุงุฆูุฉ ุงูุทูุจุงุช ุชุธูุฑ
- [ ] ุฑูุน ููู ูุนูู
- [ ] ุชุญุฏูุซ ุญุงูุฉ ุทูุจ ูุนูู
- [ ] ุงูุจุญุซ ูุนูู
- [ ] ุงูุชูุงุฑูุฑ ุชุนูู
- [ ] ุณุฌูุช ุฏุฎูู ูู Staff
- [ ] ุงูุตูุงุญูุงุช ุตุญูุญุฉ ุญุณุจ ุงูุฏูุฑ
- [ ] ุชุณุฌูู ุงูุฎุฑูุฌ ูุนูู

### ูู Terminal:

- [ ] `curl http://localhost:3000/health` ูุฑุฌุน `{"status":"ok"}`
- [ ] `pm2 status` ูุธูุฑ consulate-api running
- [ ] `sudo systemctl status nginx` ูุธูุฑ active
- [ ] `sudo systemctl status postgresql` ูุธูุฑ active

---

## 1๏ธโฃ2๏ธโฃ Backup

- [ ] ุฃูุดุฃุช ุณูุฑูุจุช backup.sh
- [ ] ุงุฎุชุจุฑุช ุงูุณูุฑูุจุช ูุฏููุงู: `./backup.sh`
- [ ] ุชู ุฅูุดุงุก backup ุจูุฌุงุญ ูู `/home/consulate/backups/`
- [ ] ุฃุถูุช Cron job ููู backup ุงููููู
- [ ] ุชุญููุช ูู Cron: `crontab -l`

---

## 1๏ธโฃ3๏ธโฃ ุงููุฑุงูุจุฉ

- [ ] ุชุญููุช ูู PM2 logs: `pm2 logs consulate-api`
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู logs
- [ ] ุชุญููุช ูู Nginx logs: `sudo tail -f /var/log/nginx/consulate_error.log`
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู logs
- [ ] ุงุฎุชุจุฑุช `htop` ููุฑุงูุจุฉ ุงูููุงุฑุฏ
- [ ] ุงุณุชุฎุฏุงู CPU ูุนููู
- [ ] ุงุณุชุฎุฏุงู Memory ูุนููู
- [ ] ูุณุงุญุฉ ุงููุฑุต ูุงููุฉ: `df -h`

---

## 1๏ธโฃ4๏ธโฃ ุงูุชูุซูู

- [ ] ูุชุจุช ูุนูููุงุช VPS ูู ููุงู ุขูู:
  - IP Address
  - Username & Password
  - Database Password
  - JWT Secret
- [ ] ูุซูุช ุฃู ุชุบููุฑุงุช ุฃู ููุงุญุธุงุช
- [ ] ุดุงุฑูุช ูุนูููุงุช ุงูุฏุฎูู ูุน ุงูุนููู (ุจุดูู ุขูู)

---

## 1๏ธโฃ5๏ธโฃ ุงูุชุณููู

- [ ] ุณููุช ููุนููู:
  - [ ] ุฑุงุจุท ุงููููุน
  - [ ] ุจูุงูุงุช ุฏุฎูู Admin
  - [ ] ุจูุงูุงุช ุฏุฎูู VPS (ุฅู ุทูุจูุง)
  - [ ] ุฏููู ุงูุงุณุชุฎุฏุงู (ุฅู ูุฌุฏ)
  - [ ] ุฏููู ุงูุตูุงูุฉ
- [ ] ุฏุฑุจุช ุงูุนููู ุนูู:
  - [ ] ููููุฉ ุฅุถุงูุฉ staff
  - [ ] ููููุฉ ุฅุฏุงุฑุฉ ุงูุทูุจุงุช
  - [ ] ููููุฉ ุนูู backup ูุฏูู
  - [ ] ููููุฉ ุงูุชูุงุตู ุนูุฏ ุงููุดุงูู

---

## โ ุงููุดุฑูุน ุฌุงูุฒ!

ุฅุฐุง ุฃูููุช ุฌููุน ุงูุจููุฏ ุฃุนูุงู ุจูุฌุงุญุ ูุจุฑูู! ุงููุดุฑูุน ุงูุขู:

- โ ูุนูู ุนูู VPS ูุณุชูู
- โ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL ูุณุชููุฉ
- โ Backend API ูุนูู ุจุดูู ุตุญูุญ
- โ Frontend deployed
- โ Nginx configured
- โ SSL/HTTPS (ุฅู ูุฌุฏ Domain)
- โ Firewall secured
- โ Backup automated
- โ Monitoring active

**ุงููุดุฑูุน ุฌุงูุฒ ููุฅูุชุงุฌ! ๐**

---

## ๐ ูููุชุงุจุนุฉ

ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู ุฃู ุฃุณุฆูุฉ:

1. ุฑุงุฌุน ููู `TROUBLESHOOTING.md` (ุณูุถููู ูุงุญูุงู)
2. ุชุญูู ูู logs: PM2, Nginx, PostgreSQL
3. ุชุญูู ูู Firewall: `sudo ufw status`
4. ุชุญูู ูู ุงูุฎุฏูุงุช: `systemctl status`

---

**ููุงุญุธุฉ:** ุงุญุชูุธ ุจูุฐุง ุงูู Checklist ููุฑุฌูุน ุฅููู ูุณุชูุจูุงู!
