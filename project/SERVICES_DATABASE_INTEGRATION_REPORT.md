# ุชูุฑูุฑ ูุญุต ุชูุงูู ุงูุฎุฏูุงุช ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงูุชุงุฑูุฎ: 13 ุฏูุณูุจุฑ 2025

---

## ๐ ููุฎุต ุชูููุฐู

ุชู ูุญุต ุฌููุน ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ ูุงููุฑุนูุฉ ูู ุงูุชุทุจูู ููุชุญูู ูู ุฃููุง ุชุฌูุจ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช Supabase ุจุดูู ุตุญูุญ.

### ุงููุชูุฌุฉ ุงูุฑุฆูุณูุฉ: โ๏ธ **ูุง ุชูุฌุฏ ุฃู ุฎุฏูุฉ ุชุฌูุจ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุญุงูููุง**

---

## ๐ ุชูุงุตูู ุงููุญุต

### 1. ุงูุจููุฉ ุงูุชุญุชูุฉ ุงููุชููุฑุฉ

#### โ ุงูุฃุฏูุงุช ุงููุชุงุญุฉ (ููุฌูุฏุฉ ูุชุนูู):

1. **useServiceData Hook** (`src/hooks/useServiceData.js`)
   - ูุฌูุจ `service` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุฌูุจ `service_fields` (ุญููู ุชูุงุตูู ุงูุฎุฏูุฉ)
   - ูุฌูุจ `service_requirements` (ุงููุชุทูุจุงุช)
   - ูุฌูุจ `service_documents` (ุงููุณุชูุฏุงุช)
   - ูุฌูุจ `service_pricing_rules` (ููุงุนุฏ ุงูุชุณุนูุฑ)
   - **ุงูุญุงูุฉ:** โ ููุฌูุฏ ููุนูู ุจุดูู ุตุญูุญ

2. **DynamicServiceForm** (`src/components/DynamicServiceForm.jsx`)
   - ูุณุชุฎุฏู `useServiceData` ุชููุงุฆููุง
   - ูุนุฑุถ ุฌููุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - **ุงูุญุงูุฉ:** โ ููุฌูุฏ ูููู **ุบูุฑ ูุณุชุฎุฏู ูู ุฃู ุฎุฏูุฉ**

3. **DynamicForm** (`src/components/DynamicForm.jsx`)
   - ูุณุชุฎุฏู `useServiceData` ูููู ุจุดุฑุท:
     ```javascript
     const shouldFetchFromDB = service?.slug && !service?.steps && !service?.requirements && !service?.documents;
     ```
   - **ุงููุดููุฉ:** โ ูุง ูุฌูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฅุฐุง ูุงู config ุงููุญูู ูุญุชูู ุนูู `steps` ุฃู `requirements`

---

## ๐ ูุงุฆูุฉ ุงูุฎุฏูุงุช ุงูููุญูุตุฉ

### ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ (13 ุฎุฏูุฉ):

| # | ุงูุฎุฏูุฉ | ุงูููู | Component ุงููุณุชุฎุฏู | Config ุงููุญูู | ูุฌูุจ ูู DBุ |
|---|--------|-------|-------------------|--------------|-------------|
| 1 | ุฌูุงุฒุงุช ุงูุณูุฑ | `PassportsForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 2 | ุงูุณุฌู ุงููุฏูู | `CivilRegistryForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 3 | ุงูุชููููุงุช | `PowerOfAttorneyForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 4 | ุงูุชุฃุดูุฑุงุช | `VisasForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 5 | ุงูุชุตุฏููุงุช | `AttestationsForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 6 | ุงูุชุธููุฑุงุช | `EndorsementsForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 7 | ุงูุฅูุฑุงุฑุงุช | `DeclarationsForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 8 | ุงูุชุนููู | `EducationForm.jsx` | Custom (ููุณ Form) | โ ููุฌูุฏ | โ ูุง |
| 9 | ุงูุฃุญูุงู ุงูุดุฎุตูุฉ | `FamilyAffairsForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 10 | ุงูุนูู ูุงูุณุฌูู | `WorkAndPrisonsForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 11 | ุชุบุทูุฉ ุงูุฌุซูุงู | `BodyCoveringForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 12 | ุงููุฃุฐูููุฉ | `MadhooniaForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |
| 13 | ุจูู ุงูุฎุฑุทูู | `KhartoomBankForm.jsx` | DynamicForm | โ ููุฌูุฏ (steps + requirements) | โ ูุง |

### ุงูุฎุฏูุงุช ุงููุฑุนูุฉ ููุชููููุงุช (9 ุฎุฏูุงุช):

| # | ุงูุฎุฏูุฉ | ุงูููู | Component ุงููุณุชุฎุฏู | Config ุงููุญูู | ูุฌูุจ ูู DBุ |
|---|--------|-------|-------------------|--------------|-------------|
| 1 | ุชูููู ุนุงู | `poa/general/GeneralForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 2 | ูุญุงูู ููุถุงูุง | `poa/courts/CourtsForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 3 | ุงููุฑุซุฉ | `poa/inheritance/InheritanceForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 4 | ุนูุงุฑุงุช | `poa/realEstate/RealEstateForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 5 | ุณูุงุฑุงุช | `poa/vehicles/VehiclesForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 6 | ุดุฑูุงุช | `poa/companies/CompaniesForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 7 | ุฒูุงุฌ ูุทูุงู | `poa/marriageDivorce/MarriageDivorceForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 8 | ุดูุงุฏุงุช ูููุงุฏ | `poa/birthCertificates/BirthCertificatesForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 9 | ุดูุงุฏุงุช ุฏุฑุงุณูุฉ | `poa/educational/EducationalForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |

### ุงูุฎุฏูุงุช ุงููุฑุนูุฉ ููุฅูุฑุงุฑุงุช (2 ุฎุฏูุฉ):

| # | ุงูุฎุฏูุฉ | ุงูููู | Component ุงููุณุชุฎุฏู | Config ุงููุญูู | ูุฌูุจ ูู DBุ |
|---|--------|-------|-------------------|--------------|-------------|
| 1 | ุฅูุฑุงุฑ ุนุงุฏู | `declarations/regular/RegularDeclarationsForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |
| 2 | ุฅูุฑุงุฑ ูุดููุน ุจุงููููู | `declarations/sworn/SwornDeclarationsForm.jsx` | DynamicForm | โ ููุฌูุฏ | โ ูุง |

---

## ๐ง ุงูุณุจุจ ุงูุฌุฐุฑู ูููุดููุฉ

### ุงูุชุฏูู ุงูุญุงูู:

```
User โ ServicePage.jsx
       โ
       ูุญููู serviceConfigs ุงููุญููุฉ (passportsConfig, visasConfig, etc.)
       โ
       ููุฑุฑ config ุฅูู DynamicForm
       โ
DynamicForm ูุชุญูู:
  if (service?.slug && !service?.steps && !service?.requirements) {
    // ุฌูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  } else {
    // ุงุณุชุฎุฏุงู config ุงููุญูู ููุท โ
  }
```

### ุงููุดููุฉ:
- ุฌููุน ูููุงุช config ุงููุญููุฉ ุชุญุชูู ุนูู `steps` ู `requirements`
- ูุฐูู ุงูุดุฑุท `!service?.steps && !service?.requirements` ููุดู ุฏุงุฆููุง
- ุงููุชูุฌุฉ: **ูุง ูุชู ุฌูุจ ุฃู ุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃุจุฏูุง**

---

## ๐ ุงูุจูุงูุงุช ุงูููููุฏุฉ

### ูุง ุงูุฐู ูุง ูุชู ุฌูุจู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุญุงูููุง:

1. โ **ุญููู ุชูุงุตูู ุงูุฎุฏูุฉ** (`service_fields`)
   - ุงูุญููู ุงูุฏููุงููููุฉ ุงููุฎุตุตุฉ ููู ุฎุฏูุฉ
   - ุฃููุงุน ุงูุญููู ุงููุฎุชููุฉ (text, select, date, file, etc.)
   - ุงูุดุฑูุท ุงูุดุฑุทูุฉ ููุญููู

2. โ **ุงููุชุทูุจุงุช** (`service_requirements`)
   - ูุงุฆูุฉ ุงููุชุทูุจุงุช ุงูุฏููุงููููุฉ
   - ุงูุดุฑูุท ุงูุดุฑุทูุฉ ูููุชุทูุจุงุช
   - ุชุฑุชูุจ ุนุฑุถ ุงููุชุทูุจุงุช

3. โ **ุงููุณุชูุฏุงุช** (`service_documents`)
   - ูุงุฆูุฉ ุงููุณุชูุฏุงุช ุงููุทููุจุฉ
   - ุงูุตูุบ ุงูููุจููุฉ ููู ูุณุชูุฏ
   - ุงูุดุฑูุท ุงูุดุฑุทูุฉ ูููุณุชูุฏุงุช

4. โ **ููุงุนุฏ ุงูุชุณุนูุฑ** (`service_pricing_rules`)
   - ููุงุนุฏ ุงูุชุณุนูุฑ ุงูุดุฑุทูุฉ
   - ุงูุชุณุนูุฑ ุญุณุจ ุงูุนูุฑ
   - ุงูุชุณุนูุฑ ุญุณุจ ููุน ุงูุฎุฏูุฉ

---

## โ ุงูุญููู ุงูููุชุฑุญุฉ

### ุงูุญู 1: ุงุณุชุฎุฏุงู DynamicServiceForm (ุงูุฃุณุฑุน) โญ

**ุงููุตู:** ุงุณุชุจุฏุงู `DynamicForm` ุจู `DynamicServiceForm` ูู ุฌููุน ุงูุฎุฏูุงุช

**ุงูุฎุทูุงุช:**
```javascript
// ูุจู (ูู ูู ุฎุฏูุฉ):
import DynamicForm from '../../components/DynamicForm';
<DynamicForm service={configFromFile} ... />

// ุจุนุฏ:
import DynamicServiceForm from '../../components/DynamicServiceForm';
<DynamicServiceForm serviceSlug="passports" ... />
```

**ุงููููุฒุงุช:**
- โ ุจุณูุท ูุณุฑูุน ุงูุชุทุจูู
- โ ูุฌูุจ ุฌููุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชููุงุฆููุง
- โ DynamicServiceForm ุฌุงูุฒ ููุฎุชุจุฑ

**ุงูุนููุจ:**
- โ๏ธ ูุฌุจ ุชุนุฏูู 24 ููู Form

---

### ุงูุญู 2: ุชุนุฏูู DynamicForm (ุงูุฃุดูู)

**ุงููุตู:** ุชุนุฏูู ููุทู DynamicForm ููุฌูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฏุงุฆููุง ุนูุฏ ูุฌูุฏ slug

**ุงูุชุนุฏูู ุงูููุชุฑุญ:**
```javascript
// ูู DynamicForm.jsx
// ูุจู:
const shouldFetchFromDB = service?.slug && !service?.steps && !service?.requirements && !service?.documents;

// ุจุนุฏ:
const shouldFetchFromDB = service?.slug; // ุฌูุจ ุฏุงุฆููุง ุฅุฐุง ูุงู ููุงู slug
```

**ุงููููุฒุงุช:**
- โ ุชุนุฏูู ููู ูุงุญุฏ ููุท
- โ ูุนูู ุชููุงุฆููุง ูุฌููุน ุงูุฎุฏูุงุช
- โ ูููู ุฏูุฌ ุงูุจูุงูุงุช ูู DB ู config ุงููุญูู

**ุงูุนููุจ:**
- โ๏ธ ูุฏ ูุคุฏู ูุชุญููู ุบูุฑ ุถุฑูุฑู ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ููุฌูุฏุฉ ูู config ููุท
- โ๏ธ ูุญุชุงุฌ ุงุฎุชุจุงุฑ ุดุงูู

---

### ุงูุญู 3: ูุธุงู ูุฌูู

**ุงููุตู:** ุงุณุชุฎุฏุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุตุฏุฑ ุฃุณุงุณู ูุน config ูู fallback

**ุงูุชุนุฏูู ุงูููุชุฑุญ:**
```javascript
const { service: dbService, fields: dbFields, requirements: dbRequirements, documents: dbDocuments } = useServiceData(service?.slug);

// ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู DB ุฃููุงูุ ุซู config ูู fallback
const finalFields = dbFields?.length > 0 ? dbFields : service?.steps?.[0]?.fields;
const finalRequirements = dbRequirements?.length > 0 ? dbRequirements : service?.requirements;
const finalDocuments = dbDocuments?.length > 0 ? dbDocuments : service?.documents;
```

**ุงููููุฒุงุช:**
- โ ูุฑููุฉ ุนุงููุฉ
- โ ูุฏุนู ููุง ุงููุตุฏุฑูู
- โ ุณูุณ ูู ุงูุชุทุจูู

**ุงูุนููุจ:**
- โ๏ธ ูุฏ ูุณุจุจ ุงุฑุชุจุงู ูู ุงููุตุฏุฑ ุงููุนูู ููุจูุงูุงุช

---

## ๐ฏ ุงูุชูุตูุฉ ุงูููุงุฆูุฉ

### ุงูุญู ุงูููุตู ุจู: **ุงูุญู 1 (ุงุณุชุฎุฏุงู DynamicServiceForm)**

**ุงูุณุจุจ:**
1. โ DynamicServiceForm ุฌุงูุฒ ููุฎุชุจุฑ ุชูุงููุง
2. โ ูุฌูุจ ุฌููุน ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
3. โ ูุงุถุญ ููุจุงุดุฑ ูู ุงูุชุทุจูู
4. โ ูุง ูุญุชุงุฌ ุชุนุฏููุงุช ูุนูุฏุฉ

### ุฎุทุฉ ุงูุชูููุฐ:

1. **ุงููุฑุญูุฉ 1:** ุชุญุฏูุซ 3-4 ุฎุฏูุงุช ููููุฐุฌ ุชุฌุฑูุจู
   - ุฌูุงุฒุงุช ุงูุณูุฑ
   - ุงูุชุฃุดูุฑุงุช
   - ุงูุณุฌู ุงููุฏูู
   - ุชูููู ุนุงู

2. **ุงููุฑุญูุฉ 2:** ุงุฎุชุจุงุฑ ุดุงูู ููุฎุฏูุงุช ุงููุญุฏุซุฉ

3. **ุงููุฑุญูุฉ 3:** ุชุญุฏูุซ ุจุงูู ุงูุฎุฏูุงุช (20 ุฎุฏูุฉ)

4. **ุงููุฑุญูุฉ 4:** ุฅุฒุงูุฉ ูููุงุช config ุงููุญููุฉ (ุงุฎุชูุงุฑู)

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

### ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

ุชู ุงูุชุญูู ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุญุชูู ุนูู:
- โ ุฌุฏุงูู `services` ู `service_types`
- โ ุฌุฏูู `service_fields` ูุน ุฏุนู dynamic-list
- โ ุฌุฏูู `service_requirements` ูุน ุดุฑูุท ุดุฑุทูุฉ
- โ ุฌุฏูู `service_documents` ูุน ุดุฑูุท ุดุฑุทูุฉ
- โ ุฌุฏูู `service_pricing_rules` ูุน ููุงุนุฏ ูุชูุฏูุฉ

### useServiceData Hook:

ุงูู Hook ูุนูู ุจุดูู ุตุญูุญ ููุฌูุจ:
- โ ุงูุจูุงูุงุช ูู `services` ุฃู `service_types`
- โ `service_fields` ูุน subfields ููู dynamic-list
- โ `service_requirements` ูุน ููุชุฑุฉ ุญุณุจ ุงูุดุฑูุท
- โ `service_documents` ูุน ููุชุฑุฉ ุญุณุจ ุงูุดุฑูุท
- โ `service_pricing_rules` ูุน ุชุฑุชูุจ ุญุณุจ ุงูุฃููููุฉ

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ูููุชุงุจุนุฉ ูุน ุชุทุจูู ุงูุญู:

1. **ูุฑุงุฑ:** ุงุฎุชูุงุฑ ุงูุญู ุงูููุงุณุจ (ููุตู ุจุงูุญู 1)
2. **ุชูููุฐ:** ุชุทุจูู ุงูุญู ุนูู ุฎุฏูุฉ ูุงุญุฏุฉ ููููุฐุฌ
3. **ุงุฎุชุจุงุฑ:** ุงูุชุญูู ูู ุฌูุจ ุฌููุน ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
4. **ุชูุณูุน:** ุชุทุจูู ุนูู ุจุงูู ุงูุฎุฏูุงุช
5. **ุชูุธูู:** ุฅุฒุงูุฉ config ุงููุญูู ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

## ๐ง ุฎูุงุตุฉ

**ุงููุถุน ุงูุญุงูู:** โ ูุง ุชูุฌุฏ ุฃู ุฎุฏูุฉ ุชุฌูุจ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุฃุฏูุงุช ุงููุชููุฑุฉ:** โ ุฌุงูุฒุฉ ูุชุนูู ุจุดูู ุตุญูุญ (useServiceData + DynamicServiceForm)

**ุงููุดููุฉ:** โ๏ธ ุงุณุชุฎุฏุงู DynamicForm ูุน config ูุญูู ูููุน ุฌูุจ ุงูุจูุงูุงุช ูู DB

**ุงูุญู:** โ ุงุณุชุจุฏุงู DynamicForm ุจู DynamicServiceForm ูู ุฌููุน ุงูุฎุฏูุงุช

**ุงูููุช ุงูููุฏุฑ:** 2-3 ุณุงุนุงุช ูุชุญุฏูุซ ุฌููุน ุงูุฎุฏูุงุช

---

ุชุงุฑูุฎ ุงูุชูุฑูุฑ: 13 ุฏูุณูุจุฑ 2025
ุชู ุงููุญุต ุจูุงุณุทุฉ: Claude Agent
ุนุฏุฏ ุงูุฎุฏูุงุช ุงูููุญูุตุฉ: 24 ุฎุฏูุฉ
