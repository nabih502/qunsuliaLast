# ğŸš€ Ø¯Ù„ÙŠÙ„ Ù†Ù‚Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„ÙƒØ§Ù…Ù„ Ø¥Ù„Ù‰ VPS

## ğŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù…ØªØ·Ù„Ø¨Ø§Øª Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡](#1-Ù…ØªØ·Ù„Ø¨Ø§Øª-Ù…Ø§-Ù‚Ø¨Ù„-Ø§Ù„Ø¨Ø¯Ø¡)
2. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰: ØªØ­Ø¶ÙŠØ± VPS](#2-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø£ÙˆÙ„Ù‰-ØªØ­Ø¶ÙŠØ±-vps)
3. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: ØªØ«Ø¨ÙŠØª PostgreSQL](#3-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø«Ø§Ù†ÙŠØ©-ØªØ«Ø¨ÙŠØª-postgresql)
4. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: ØªØµØ¯ÙŠØ± Ù…Ù† Supabase](#4-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø«Ø§Ù„Ø«Ø©-ØªØµØ¯ÙŠØ±-Ù…Ù†-supabase)
5. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©: Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¥Ù„Ù‰ PostgreSQL](#5-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©-Ø§Ø³ØªÙŠØ±Ø§Ø¯-Ø¥Ù„Ù‰-postgresql)
6. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø®Ø§Ù…Ø³Ø©: Setup Backend API](#6-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø®Ø§Ù…Ø³Ø©-setup-backend-api)
7. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø³Ø§Ø¯Ø³Ø©: Setup Frontend](#7-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø³Ø§Ø¯Ø³Ø©-setup-frontend)
8. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø©: Setup Nginx](#8-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø³Ø§Ø¨Ø¹Ø©-setup-nginx)
9. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù…Ù†Ø©: Setup SSL](#9-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø«Ø§Ù…Ù†Ø©-setup-ssl)
10. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ø³Ø¹Ø©: Firewall](#10-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„ØªØ§Ø³Ø¹Ø©-firewall)
11. [Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø¹Ø§Ø´Ø±Ø©: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ](#11-Ø§Ù„Ø®Ø·ÙˆØ©-Ø§Ù„Ø¹Ø§Ø´Ø±Ø©-Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±-Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ)
12. [Ø§Ù„ØµÙŠØ§Ù†Ø© ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©](#12-Ø§Ù„ØµÙŠØ§Ù†Ø©-ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©)

---

## 1ï¸âƒ£ Ù…ØªØ·Ù„Ø¨Ø§Øª Ù…Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡

### âœ… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙŠØ¬Ø¨ ØªÙˆÙØ±Ù‡Ø§:

```yaml
Ù…Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„:
  - VPS IP Address: __________________
  - VPS Username (Ø¹Ø§Ø¯Ø© root): _______
  - VPS Password or SSH Key: ________
  - Domain Name (Ø¥Ù† ÙˆØ¬Ø¯): __________

Ù…Ù† Supabase Ø§Ù„Ø­Ø§Ù„ÙŠ:
  - Supabase Project URL: ___________
  - Supabase Anon Key: ______________
  - Supabase Service Role Key: ______
  - Database Password: ______________
```

### ğŸ› ï¸ Ø£Ø¯ÙˆØ§Øª Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ:

```bash
# Ø¹Ù„Ù‰ Windows:
- PuTTY Ø£Ùˆ Windows Terminal
- FileZilla Ø£Ùˆ WinSCP
- pgAdmin (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

# Ø¹Ù„Ù‰ Mac/Linux:
- Terminal (Ù…ÙˆØ¬ÙˆØ¯ Ø£ØµÙ„Ø§Ù‹)
- SSH Client (Ù…ÙˆØ¬ÙˆØ¯ Ø£ØµÙ„Ø§Ù‹)
```

---

## 2ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£ÙˆÙ„Ù‰: ØªØ­Ø¶ÙŠØ± VPS

### Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ VPS:

```bash
# Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ (Mac/Linux)
ssh root@YOUR_VPS_IP

# Ù…Ù† Windows:
# Ø§Ø³ØªØ®Ø¯Ù… PuTTY ÙˆØ£Ø¯Ø®Ù„ IP Ùˆ Username

# Ù…Ø«Ø§Ù„:
ssh root@123.45.67.89
```

### ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¸Ø§Ù…:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ­Ø¯ÙŠØ« Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø­Ø²Ù…
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo apt update

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ±Ù‚ÙŠØ© Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ù…Ø«Ø¨ØªØ©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo apt upgrade -y

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ«Ø¨ÙŠØª Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo apt install -y \
  curl \
  wget \
  git \
  build-essential \
  ufw \
  fail2ban \
  unzip \
  vim \
  nano \
  htop \
  net-tools
```

### Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ØªØ·Ø¨ÙŠÙ‚:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo adduser consulate
# Ø£Ø¯Ø®Ù„ password Ù‚ÙˆÙŠ

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ sudo group
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo usermod -aG sudo consulate

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
su - consulate
```

---

## 3ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: ØªØ«Ø¨ÙŠØª PostgreSQL

### ØªØ«Ø¨ÙŠØª PostgreSQL 15:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¶Ø§ÙØ© PostgreSQL Repository
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo sh -c 'echo "deb http://apt.postgresql.org/pub/repos/apt $(lsb_release -cs)-pgdg main" > /etc/apt/sources.list.d/pgdg.list'

# Ø¥Ø¶Ø§ÙØ© GPG Key
wget --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc | sudo apt-key add -

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ­Ø¯ÙŠØ« ÙˆØªØ«Ø¨ÙŠØª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo apt update
sudo apt install -y postgresql-15 postgresql-contrib-15

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ«Ø¨ÙŠØª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl status postgresql

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl enable postgresql
```

### Ø¥Ø¹Ø¯Ø§Ø¯ PostgreSQL:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„Ù‰ Ù…Ø³ØªØ®Ø¯Ù… postgres
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo -i -u postgres

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ PostgreSQL
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
psql

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¯Ø§Ø®Ù„ psqlØŒ Ù†ÙØ°:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-- Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª
CREATE DATABASE consulate_db;

-- Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù…
CREATE USER consulate_user WITH ENCRYPTED PASSWORD 'YOUR_STRONG_PASSWORD_HERE';

-- Ù…Ù†Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
GRANT ALL PRIVILEGES ON DATABASE consulate_db TO consulate_user;

-- ØªØºÙŠÙŠØ± ØµØ§Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©
ALTER DATABASE consulate_db OWNER TO consulate_user;

-- ØªÙØ¹ÙŠÙ„ UUID Extension
\c consulate_db
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- Ø§Ù„Ø®Ø±ÙˆØ¬
\q

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¹Ø§Ø¯ÙŠ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
exit
```

### Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† Ù„Ù€ PostgreSQL:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ­Ø±ÙŠØ± pg_hba.conf
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo nano /etc/postgresql/15/main/pg_hba.conf

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø³Ø·Ø±:
# local   all             all                                     peer
#
# ØºÙŠØ±Ù‡ Ø¥Ù„Ù‰:
# local   all             all                                     md5
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Ø§Ø­ÙØ¸: Ctrl+X Ø«Ù… Y Ø«Ù… Enter

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ PostgreSQL
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl restart postgresql

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
psql -U consulate_user -d consulate_db -h localhost
# Ø£Ø¯Ø®Ù„ Ø§Ù„Ù€ password
# Ø¥Ø°Ø§ Ø¯Ø®Ù„ØªØŒ Ù…Ø¹Ù†Ø§Ù‡Ø§ ÙƒÙ„ Ø´ÙŠØ¡ ØªÙ…Ø§Ù…!
\q
```

---

## 4ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø©: ØªØµØ¯ÙŠØ± Ù…Ù† Supabase

### Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Ø¹Ø¨Ø± Supabase Dashboard
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://supabase.com/dashboard
# 2. Ø§Ø®ØªØ± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
# 3. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: Database â†’ Backups
# 4. Ø§Ø¶ØºØ· "Download backup" Ø£Ùˆ "Create backup"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2: Ø¹Ø¨Ø± pg_dump (Ø§Ù„Ø£ÙØ¶Ù„)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Database URL Ù…Ù† Supabase:
# Settings â†’ Database â†’ Connection string (URI)
# Ù…Ø«Ø§Ù„:
# postgresql://postgres:[YOUR-PASSWORD]@db.xxxxxxxxxxxxx.supabase.co:5432/postgres

# Ù†ÙØ° pg_dump:
pg_dump "postgresql://postgres:[YOUR-PASSWORD]@db.xxxxxxxxxxxxx.supabase.co:5432/postgres" \
  --format=custom \
  --file=supabase_backup_$(date +%Y%m%d).dump \
  --verbose

# Ø£Ùˆ Ø¨ØµÙŠØºØ© SQL Ø¹Ø§Ø¯ÙŠØ©:
pg_dump "postgresql://postgres:[YOUR-PASSWORD]@db.xxxxxxxxxxxxx.supabase.co:5432/postgres" \
  --file=supabase_backup_$(date +%Y%m%d).sql \
  --verbose \
  --no-owner \
  --no-acl

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 3: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³ÙƒØ±ÙŠØ¨Øª Ø¬Ø§Ù‡Ø²
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø³Ù†ÙˆÙØ± Ø³ÙƒØ±ÙŠØ¨Øª ÙÙŠ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
```

---

## 5ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©: Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¥Ù„Ù‰ PostgreSQL

### Ù†Ù‚Ù„ Ù…Ù„Ù Backup Ø¥Ù„Ù‰ VPS:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ (Mac/Linux)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
scp supabase_backup_20260117.sql root@YOUR_VPS_IP:/home/consulate/

# Ù…Ø«Ø§Ù„:
scp supabase_backup_20260117.sql root@123.45.67.89:/home/consulate/

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ù† Windows: Ø§Ø³ØªØ®Ø¯Ù… WinSCP Ø£Ùˆ FileZilla
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Host: YOUR_VPS_IP
# Username: root
# Password: YOUR_PASSWORD
# Ø§Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰: /home/consulate/
```

### Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¹Ù„Ù‰ VPSØŒ Ø§Ø³ØªÙˆØ±Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù„Ù .sql:
psql -U consulate_user -d consulate_db -h localhost -f supabase_backup_20260117.sql

# Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù„Ù .dump (custom format):
pg_restore -U consulate_user -d consulate_db -h localhost -v supabase_backup_20260117.dump

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
psql -U consulate_user -d consulate_db -h localhost

-- Ø¯Ø§Ø®Ù„ psql:
\dt           -- Ø¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
\du           -- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
SELECT COUNT(*) FROM applications;  -- Ø§Ø®ØªØ¨Ø§Ø±
\q
```

---

## 6ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø®Ø§Ù…Ø³Ø©: Setup Backend API

### ØªØ«Ø¨ÙŠØª Node.js Ùˆ npm:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ«Ø¨ÙŠØª Node.js 20.x LTS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ«Ø¨ÙŠØª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
node --version   # ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¸Ù‡Ø± v20.x.x
npm --version    # ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¸Ù‡Ø± 10.x.x

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ«Ø¨ÙŠØª PM2 (Process Manager)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo npm install -g pm2
```

### Ø±ÙØ¹ Backend Ø¥Ù„Ù‰ VPS:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²ÙƒØŒ Ø¶ØºØ· Backend
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cd /path/to/your/project
zip -r backend.zip backend/

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø±ÙØ¹ Backend Ø¥Ù„Ù‰ VPS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
scp backend.zip root@YOUR_VPS_IP:/home/consulate/

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¹Ù„Ù‰ VPSØŒ ÙÙƒ Ø§Ù„Ø¶ØºØ·
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cd /home/consulate
unzip backend.zip
cd backend
```

### Ø¥Ø¹Ø¯Ø§Ø¯ Backend:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ«Ø¨ÙŠØª Dependencies
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
npm install

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù .env
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
nano .env

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø­ØªÙˆÙ‰ .env:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PORT=3000
NODE_ENV=production

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=consulate_db
DB_USER=consulate_user
DB_PASSWORD=YOUR_STRONG_PASSWORD_HERE

# JWT
JWT_SECRET=YOUR_RANDOM_JWT_SECRET_HERE
JWT_EXPIRES_IN=7d

# Upload Directory
UPLOAD_DIR=/home/consulate/backend/uploads

# Frontend URL (Ø³Ù†Ø¹Ø¯Ù„Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹)
FRONTEND_URL=https://yourdomain.com

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø­ÙØ¸: Ctrl+X Ø«Ù… Y Ø«Ù… Enter
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Uploads
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
mkdir -p uploads
chmod 755 uploads

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ´ØºÙŠÙ„ Backend Ø¨Ù€ PM2
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
pm2 start src/server.js --name consulate-api
pm2 save
pm2 startup

# Ù†ÙØ° Ø§Ù„Ø£Ù…Ø± Ø§Ù„Ø°ÙŠ ÙŠØ¸Ù‡Ø± Ù„Ùƒ (Ù…Ø«Ø§Ù„):
# sudo env PATH=$PATH:/usr/bin pm2 startup systemd -u consulate --hp /home/consulate

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Backend
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
pm2 status
pm2 logs consulate-api

# Ø§Ø®ØªØ¨Ø±:
curl http://localhost:3000/health
# ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ±Ø¬Ø¹: {"status":"ok"}
```

---

## 7ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø³Ø§Ø¯Ø³Ø©: Setup Frontend

### Build Frontend Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cd /path/to/your/project

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ­Ø¯ÙŠØ« .env Ù„Ù„Ù€ Production
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
nano .env

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø­ØªÙˆÙ‰ .env:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
VITE_API_URL=https://yourdomain.com/api
# Ø£Ùˆ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø¹Ù†Ø¯Ùƒ domain Ø¨Ø¹Ø¯:
# VITE_API_URL=http://YOUR_VPS_IP/api

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Build Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
npm run build

# Ø³ÙŠÙ†Ø´Ø¦ Ù…Ø¬Ù„Ø¯ dist/
```

### Ø±ÙØ¹ Frontend Ø¥Ù„Ù‰ VPS:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¶ØºØ· Ù…Ø¬Ù„Ø¯ dist
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
zip -r dist.zip dist/

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø±ÙØ¹ Ø¥Ù„Ù‰ VPS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
scp dist.zip root@YOUR_VPS_IP:/home/consulate/

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¹Ù„Ù‰ VPSØŒ ÙÙƒ Ø§Ù„Ø¶ØºØ·
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cd /home/consulate
unzip dist.zip

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù†Ù‚Ù„ Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Nginx
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo mkdir -p /var/www/consulate
sudo cp -r dist/* /var/www/consulate/
sudo chown -R www-data:www-data /var/www/consulate
sudo chmod -R 755 /var/www/consulate
```

---

## 8ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø©: Setup Nginx

### ØªØ«Ø¨ÙŠØª Nginx:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ«Ø¨ÙŠØª Nginx
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo apt install -y nginx

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ«Ø¨ÙŠØª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl status nginx

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl enable nginx
```

### Ø¥Ø¹Ø¯Ø§Ø¯ Nginx:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo nano /etc/nginx/sites-available/consulate

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù„Ù:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
server {
    listen 80;
    server_name yourdomain.com www.yourdomain.com;
    # Ø£Ùˆ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø¹Ù†Ø¯Ùƒ domain:
    # server_name YOUR_VPS_IP;

    # Frontend (React)
    location / {
        root /var/www/consulate;
        index index.html;
        try_files $uri $uri/ /index.html;
    }

    # Backend API
    location /api/ {
        proxy_pass http://localhost:3000/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;

        # Ø²ÙŠØ§Ø¯Ø© Ø­Ø¬Ù… Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ø±ÙØ¹Ù‡Ø§
        client_max_body_size 50M;
    }

    # Uploads
    location /uploads/ {
        alias /home/consulate/backend/uploads/;
        autoindex off;
    }

    # Gzip Compression
    gzip on;
    gzip_vary on;
    gzip_min_length 1024;
    gzip_types text/plain text/css text/xml text/javascript
               application/x-javascript application/xml+rss
               application/javascript application/json;
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø­ÙØ¸: Ctrl+X Ø«Ù… Y Ø«Ù… Enter
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo ln -s /etc/nginx/sites-available/consulate /etc/nginx/sites-enabled/

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø­Ø°Ù Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo rm /etc/nginx/sites-enabled/default

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo nginx -t

# ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¸Ù‡Ø±:
# nginx: configuration file /etc/nginx/nginx.conf test is successful

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Nginx
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl restart nginx
```

---

## 9ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø«Ø§Ù…Ù†Ø©: Setup SSL (HTTPS)

### Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Let's Encrypt (Ø¥Ø°Ø§ ÙƒØ§Ù† Ø¹Ù†Ø¯Ùƒ Domain):

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ«Ø¨ÙŠØª Certbot
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo apt install -y certbot python3-certbot-nginx

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ SSL Certificate
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com

# Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª:
# 1. Ø£Ø¯Ø®Ù„ email address
# 2. Ø§Ù‚Ø¨Ù„ Terms of Service
# 3. Ø§Ø®ØªØ± redirect HTTP to HTTPS (Ø§Ø®ØªØ± 2)

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo certbot renew --dry-run

# Ø¥Ø°Ø§ Ù†Ø¬Ø­ØŒ Certificate Ø³ÙŠØªØ¬Ø¯Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
```

### Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø¹Ù†Ø¯Ùƒ Domain (Ù…Ø¤Ù‚ØªØ§Ù‹):

```bash
# ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Self-Signed Certificate (Ù„Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø·)
# Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… IP ÙÙ‚Ø· Ù…Ø¹ HTTP

# Ø³ØªØ­ØªØ§Ø¬ Ù„Ø´Ø±Ø§Ø¡ domain name Ù„Ø§Ø­Ù‚Ø§Ù‹
```

---

## ğŸ”Ÿ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ø³Ø¹Ø©: Firewall

### Ø¥Ø¹Ø¯Ø§Ø¯ UFW:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Default Policies
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo ufw default deny incoming
sudo ufw default allow outgoing

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù€ SSH (Ù…Ù† IP Ù…Ø­Ø¯Ø¯)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø­Ø¯Ø¯ IP Ù…ÙƒØªØ¨Ùƒ/Ù…Ù†Ø²Ù„Ùƒ:
sudo ufw allow from YOUR_OFFICE_IP to any port 22

# Ø£Ùˆ Ù…Ø¤Ù‚ØªØ§Ù‹ (ØºÙŠØ± Ø¢Ù…Ù†):
# sudo ufw allow 22/tcp

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù€ HTTP Ùˆ HTTPS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø­Ø¸Ø± PostgreSQL Ù…Ù† Ø§Ù„Ø®Ø§Ø±Ø¬
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo ufw deny 5432/tcp

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø­Ø¸Ø± Backend API Ù…Ù† Ø§Ù„Ø®Ø§Ø±Ø¬
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo ufw deny 3000/tcp

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªÙØ¹ÙŠÙ„ UFW
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo ufw enable

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ù„ØªØ­Ù‚Ù‚
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo ufw status verbose
```

---

## 1ï¸âƒ£1ï¸âƒ£ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø¹Ø§Ø´Ø±Ø©: Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ

### Ø§Ø®ØªØ¨Ø§Ø± Database:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¹Ù„Ù‰ VPS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
psql -U consulate_user -d consulate_db -h localhost

-- Ø¯Ø§Ø®Ù„ psql:
SELECT COUNT(*) FROM applications;
SELECT COUNT(*) FROM services;
SELECT COUNT(*) FROM staff;
\q
```

### Ø§Ø®ØªØ¨Ø§Ø± Backend:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ù„ÙŠ Ø¹Ù„Ù‰ VPS
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
curl http://localhost:3000/health

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø®ØªØ¨Ø§Ø± Ø¹Ø¨Ø± Nginx
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
curl http://YOUR_VPS_IP/api/health

# Ø£Ùˆ Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­:
# http://YOUR_VPS_IP/api/health
```

### Ø§Ø®ØªØ¨Ø§Ø± Frontend:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰:
http://YOUR_VPS_IP
# Ø£Ùˆ:
https://yourdomain.com

# ØªØ­Ù‚Ù‚ Ù…Ù†:
# âœ… Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØªØ¹Ù…Ù„
# âœ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙŠØ¹Ù…Ù„
# âœ… Ø§Ù„Ø®Ø¯Ù…Ø§Øª ØªØ¸Ù‡Ø±
# âœ… Ø§Ù„ØµÙˆØ± ØªØ¸Ù‡Ø±
# âœ… Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙŠØ¹Ù…Ù„
```

### Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø§Ù…Ù„:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Checklist
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# [ ] Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØªÙØªØ­
# [ ] ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Admin ÙŠØ¹Ù…Ù„
# [ ] ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Staff ÙŠØ¹Ù…Ù„
# [ ] Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙŠØ¹Ù…Ù„
# [ ] Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ ÙŠØ¹Ù…Ù„
# [ ] Ø±ÙØ¹ Ù…Ù„ÙØ§Øª ÙŠØ¹Ù…Ù„
# [ ] ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ ÙŠØ¹Ù…Ù„
# [ ] Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ¹Ù…Ù„
# [ ] Ø§Ù„ØµÙˆØ± ØªØ¸Ù‡Ø±
# [ ] Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ØªØ¹Ù…Ù„
# [ ] Ø§Ù„Ø¨Ø­Ø« ÙŠØ¹Ù…Ù„
```

---

## 1ï¸âƒ£2ï¸âƒ£ Ø§Ù„ØµÙŠØ§Ù†Ø© ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©

### Backup Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙƒØ±ÙŠØ¨Øª Backup
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
nano /home/consulate/backup.sh

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª:
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#!/bin/bash

BACKUP_DIR="/home/consulate/backups"
TIMESTAMP=$(date +"%Y%m%d_%H%M%S")
DB_NAME="consulate_db"
DB_USER="consulate_user"

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¬Ù„Ø¯ Backups
mkdir -p $BACKUP_DIR

# Backup Database
pg_dump -U $DB_USER -d $DB_NAME -h localhost -F c -f "$BACKUP_DIR/db_$TIMESTAMP.dump"

# Backup Uploads
tar -czf "$BACKUP_DIR/uploads_$TIMESTAMP.tar.gz" /home/consulate/backend/uploads/

# Ø­Ø°Ù Backups Ø£Ù‚Ø¯Ù… Ù…Ù† 7 Ø£ÙŠØ§Ù…
find $BACKUP_DIR -name "*.dump" -mtime +7 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +7 -delete

echo "Backup completed: $TIMESTAMP"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø§Ø­ÙØ¸ ÙˆØ§Ø¹Ø·ÙŠ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ØªÙ†ÙÙŠØ°
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
chmod +x /home/consulate/backup.sh

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Cron (ÙŠÙˆÙ…ÙŠØ§Ù‹ Ø§Ù„Ø³Ø§Ø¹Ø© 2 ØµØ¨Ø§Ø­Ø§Ù‹)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
crontab -e

# Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø±:
0 2 * * * /home/consulate/backup.sh >> /home/consulate/backup.log 2>&1
```

### Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù†Ø¸Ø§Ù…:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø±Ø§Ù‚Ø¨Ø© PM2
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
pm2 status
pm2 logs consulate-api
pm2 monit

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø±Ø§Ù‚Ø¨Ø© Nginx
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø±Ø§Ù‚Ø¨Ø© PostgreSQL
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo tail -f /var/log/postgresql/postgresql-15-main.log

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
htop
df -h        # Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù‚Ø±Øµ
free -h      # Ø§Ù„Ø°Ø§ÙƒØ±Ø©
```

### ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†:

```bash
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ­Ø¯ÙŠØ«Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo apt update
sudo apt upgrade -y
sudo apt autoremove -y

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
sudo systemctl restart nginx
sudo systemctl restart postgresql
pm2 restart consulate-api
```

---

## ğŸ“ Ù…Ù„Ø®Øµ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø³Ø±ÙŠØ¹Ø©

### Ù„Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ VPS:
```bash
ssh root@YOUR_VPS_IP
```

### Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª:
```bash
# Backend
pm2 restart consulate-api

# Nginx
sudo systemctl restart nginx

# PostgreSQL
sudo systemctl restart postgresql
```

### Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©:
```bash
# Backend
pm2 status
pm2 logs consulate-api

# Nginx
sudo systemctl status nginx

# PostgreSQL
sudo systemctl status postgresql

# Firewall
sudo ufw status
```

### Ù„Ù„ØªØ­Ø¯ÙŠØ«:
```bash
sudo apt update && sudo apt upgrade -y
pm2 update
```

---

## âš ï¸ Ù…Ø´Ø§ÙƒÙ„ Ø´Ø§Ø¦Ø¹Ø© ÙˆØ­Ù„ÙˆÙ„Ù‡Ø§

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 1: Backend Ù„Ø§ ÙŠØ¹Ù…Ù„

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù€ logs
pm2 logs consulate-api

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù€ .env
cat /home/consulate/backend/.env

# Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
pm2 restart consulate-api
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 2: Database Connection Failed

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† PostgreSQL
sudo systemctl status postgresql

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„
psql -U consulate_user -d consulate_db -h localhost

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† pg_hba.conf
sudo nano /etc/postgresql/15/main/pg_hba.conf
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 3: Nginx 502 Bad Gateway

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Backend
pm2 status

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Nginx logs
sudo tail -f /var/log/nginx/error.log

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙ„
pm2 restart consulate-api
sudo systemctl restart nginx
```

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø© 4: Ø§Ù„ØµÙˆØ±/Ø§Ù„Ù…Ù„ÙØ§Øª Ù„Ø§ ØªØ¸Ù‡Ø±

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
ls -la /home/consulate/backend/uploads/

# Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
chmod 755 /home/consulate/backend/uploads/
chown -R consulate:consulate /home/consulate/backend/uploads/

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Nginx config
sudo nginx -t
```

---

## ğŸ¯ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©

Ø¨Ø¹Ø¯ Ø§ØªØ¨Ø§Ø¹ ÙƒÙ„ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ§ØªØŒ Ù…Ø´Ø±ÙˆØ¹Ùƒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ†:

âœ… ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ VPS Ø®Ø§Øµ
âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL Ù…Ø³ØªÙ‚Ù„Ø©
âœ… Backend API ÙŠØ¹Ù…Ù„
âœ… Frontend ÙŠØ¹Ù…Ù„
âœ… Nginx configured
âœ… SSL/HTTPS enabled
âœ… Firewall configured
âœ… Backup automatic
âœ… Monitoring active

**Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¥Ù†ØªØ§Ø¬! ğŸš€**
